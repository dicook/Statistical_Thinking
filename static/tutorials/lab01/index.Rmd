---
title: "ETC2420/5242 <br> Introduction to R, RStudio & RMarkdown"
date: Lab 01
output: slidy_presentation
---

```{r initial, echo = FALSE, cache = FALSE, results = 'hide'}
library(knitr)
opts_chunk$set(warning = FALSE, message = FALSE, 
			   fig.path = 'figure/', cache.path = 'cache/', 
			   fig.align = 'center', dev = 'png', fig.width = 22, fig.height = 10, 
			   fig.show = 'hold', cache = TRUE, external  =  TRUE)
read_chunk("lab01.R")
```

# Have fun with R
## US economic time series from ggplot2 

* `date`: month of data collection
* `pce`: personal consumption expenditures
* `pop`: total population
* `psavert`: personal saving rate
* `uempmed`: median duration of unemployment
* `unemploy`: number of unemployed
* Read its [documentation](http://docs.ggplot2.org/current/economics.html) for
  more details

```{r economics}
```
Can you think of two questions you could answer using these variables?

# Have fun with R
## Gapminder data

```{r gapminder}
```

Can you think of two questions you could answer using these variables?

# Have fun with R
## Pedestrian counts in the city of Melbourne

```{r pedestrian}
```

Can you think of two questions you could answer using these variables?

# Have fun with R
## R packages

```{r, eval = FALSE}
install.package("dplyr")
library(dplyr) # load the package
```

* For example, `dplyr` is an R package written by [Hadley Wickham](http://hadley.nz/).
It is a fast, consistent tool for working with data frame.
* There are more than 8000 packages available on R CRAN now.

# Have fun with R
## R basics

* Example 1: a vector of numerics
```{r basics1, eval = FALSE}
```

* Example 2: a list
```{r basics2, eval = FALSE}
```

* Example 3: compute statistics on a vector with missing values
```{r basics3, eval = FALSE}
```

# What is markdown?

> An **easy-to-read** and **easy-to-write** plain text format.

* Check out the [markdown homepage](https://daringfireball.net/projects/markdown/)
  for its philosophy
* Examples of basic syntax
    + Emphasis
        - `**bold**` ===> **bold**
        - `*italics*` ===> *italics*
    * Lists

```
* Examples of basic syntax
    + Emphasis
        - **bold**
        - *italics*
    + Lists
```

* [Markdown cheatsheet](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)
* This slides is written in **R** + **Markdown** = **[RMarkdown](http://rmarkdown.rstudio.com/)**!!

# Write report in RMarkdown

1. Start RStudio
2. Create a new project (`ETC2420`) for this unit
    + File -> New Project -> Existing Directory -> Empty Project
3. Open a new RMarkdown document and save it as `MYLab1.Rmd` 
    * File -> New File -> R Markdown -> OK -> Knit HTML
4. Look through this sample Rmd document
    + Meta information starting and ending with `---`
    + Embed R code like 
        - One line of R code
<pre>```{r cars} 
summary(cars)
```</pre>
        - Multiple lines of R code
<pre>```{r economics} 
library(dplyr) 
data(economics, package = "ggplot2")
glimpse(economics)
```</pre>
    * Write outside the R chunk but in markdown way
5. Knit the file to a pdf/word document

# Your turn
## Get things done in R and RMarkdown

1. Read in the OECD PISA data
```{r student, eval = FALSE}
```
2. Tabulate the countries (`CNT`)
3. Extract the values for Australia (`AUS`) and Shanghai (`QCN`)
4. Compute the average and standard deviation of the reading scores (`PV1READ`), for each country
5. Write a few sentences explaining what you learn about reading scores in these two countries

<meta name="copyright" content="LICENSE: CC BY-NC 3.0 US" />
