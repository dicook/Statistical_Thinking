geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
x
x <- rnorm(5, 0, 1)
x
x <- rnorm(5, 0, 1)
x
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(500, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
?pgamma
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(5, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
x <- rnorm(50, 0, 1)
df2 <- data.frame(x=x, y=0)
ggplot(df, aes(x=x, y=d)) + geom_line() + xlab("") + ylab("") +
geom_hline(yintercept=0, colour="grey70") +
geom_point(data=df2, aes(x=x, y=0), colour="red")
nmle <- function(x, mu, sigma) {
f <- prod(dnorm(x, mu, sigma))
return(f)
}
mu <- seq(1, 5, 0.1)
sig <- seq(2, 7, 0.1)
g <- expand.grid(x=mu, y=sig)
g$f <- 0
for (i in 1:nrow(g)) {
g$f[i] <- nmle(x, g$x[i], g$y[i])
}
ggplot(g, aes(x=x, y=y, fill=f)) + geom_tile() + xlab(expression(mu)) + ylab(expression(sigma)) + theme_bw() +
scale_fill_continuous("L") +
theme(aspect.ratio=1)
set.seed(1031)
x <- rnorm(22, 3, 5)
x
nmle <- function(x, mu, sigma) {
f <- prod(dnorm(x, mu, sigma))
return(f)
}
mu <- seq(1, 5, 0.1)
sig <- seq(2, 7, 0.1)
g <- expand.grid(x=mu, y=sig)
g$f <- 0
for (i in 1:nrow(g)) {
g$f[i] <- nmle(x, g$x[i], g$y[i])
}
ggplot(g, aes(x=x, y=y, fill=f)) + geom_tile() + xlab(expression(mu)) + ylab(expression(sigma)) + theme_bw() +
scale_fill_continuous("L") +
theme(aspect.ratio=1)
g
sqrt(5)
library(knitr)
opts_chunk$set(
message = FALSE,
warning = FALSE,
cache = FALSE,
echo=FALSE,
fig.height = 2,
fig.width = 5,
collapse = TRUE,
comment = "#>"
)
options(digits=2)
library(dplyr)
library(tidyr)
library(ggplot2)
library(readr)
library(gridExtra)
library(xkcd)
x <- runif(100) - 0.5
df <- data.frame(x=x, y=-3*x+5+rnorm(100))
ggplot(df, aes(x=x, y=y)) + geom_point() +
geom_smooth(method="lm", se=F) + xlab("X") + ylab("Y") +
geom_text(aes(x=0.35, y=7,
label="linear model"), colour="blue", size=4) +
theme_bw() +
theme_xkcd()
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) +
theme_xkcd()
p
vignette("xkcd-intro")
library(extrafont)
download.file("http://simonsoftware.se/other/xkcd.ttf",
dest="xkcd.ttf", mode="wb")
system("mkdir ~/.fonts")
system("cp xkcd.ttf ~/.fonts")
font_import(pattern = "[X/x]kcd", prompt=FALSE)
fonts()
fonttable()
loadfonts()
ggplot(df, aes(x=x, y=y)) + geom_point() +
geom_smooth(method="lm", se=F) + xlab("X") + ylab("Y") +
geom_text(aes(x=0.35, y=7,
label="linear model"), colour="blue", size=4) +
theme_bw() +
theme_xkcd()
ggplot(df, aes(x=x, y=y)) + geom_point() +
geom_smooth(method="lm", se=F) + xlab("X") + ylab("Y") +
geom_text(aes(x=0.35, y=7,
label="linear model"), colour="blue", size=4) +
theme_bw() +
theme_xkcd()
install.packages("wesanderson")
devtools::install_github("dill/beyonce")
olympics2016 <- read_csv("../data/olympics2016.csv")
View(olympics2016)
oly_gdp_2016 <- read_csv("../data/gdp2016.csv")
olympics2012 <- read_csv("../data/olympics2012.csv")
gdp2012 <- read_delim("../data/gdp2012.csv", delim="\t",
col_names=FALSE)[,1:2]
colnames(gdp2012) <- c("Country", "GDP")
oly_gdp2012 <- merge(olympics2012, gdp2012, by="Country", all.x=TRUE)
View(oly_gdp2012)
gdp2012 <- read_delim("../data/gdp2012.csv", delim="\t",
col_names=FALSE)[,1:2]
colnames(gdp2012) <- c("Country", "GDP12")
oly_gdp2012 <- merge(olympics2012, gdp2012, by="Country", all.x=TRUE)
View(olympics2012)
oly_gdp_2016_2012 <- merge(oly_gdp2016, olympics2012[,c("Country","Total")],
by="Country", all.x=TRUE)
oly_gdp2016 <- read_csv("../data/gdp2016.csv")
oly_gdp_2016_2012 <- merge(oly_gdp2016, olympics2012[,c("Country","Total")],
by="Country", all.x=TRUE)
View(oly_gdp_2016_2012)
colnames(oly_gdp_2016_2012)[2] <- "Total_2016"
colnames(oly_gdp_2016_2012)[7] <- "Total_2012"
oly_gdp_2016_2012[is.na(oly_gdp_2016_2012), "Total_2012"] <- 0
oly_gdp_2016_2012[is.na(oly_gdp_2016_2012$Total_2012), "Total_2012"] <- 0
oly_lm <- glm(Total_2016~Total_2012+Population_mil+GDP_PPP_bil, data=oly_gdp_2016_2012)
library(broom)
tidy(oly_lm)
olympics2012 <- read_csv("../data/olympics2012.csv")
library(dplyr)
library(tidyr)
library(ggplot2)
library(readr)
library(gridExtra)
olympics2012 <- read_csv("../data/olympics2012.csv")
oly_gdp2016 <- read_csv("../data/gdp2016.csv")
oly_gdp_2016_2012 <- merge(oly_gdp2016, olympics2012[,c("Country","Total")],
by="Country", all.x=TRUE)
colnames(oly_gdp_2016_2012)[2] <- "Total_2016"
colnames(oly_gdp_2016_2012)[7] <- "Total_2012"
oly_gdp_2016_2012[is.na(oly_gdp_2016_2012$Total_2012), "Total_2012"] <- 0
p1 <- ggplot(oly_gdp_2016_2012, aes(x=Total_2012, y=Total_2016)) +
geom_point()
p2 <- ggplot(oly_gdp_2016_2012, aes(x=Population_mil, y=Total_2016)) +
geom_point()
p3 <- ggplot(oly_gdp_2016_2012, aes(x=GDP_PPP_bil, y=Total_2016)) +
geom_point()
grid.arrange(p1, p2, p3, ncol=3)
oly_lm <- glm(Total_2016~Total_2012+Population_mil+GDP_PPP_bil, data=oly_gdp_2016_2012)
library(broom)
tidy(oly_lm)
oly_diag <- augment(oly_lm)
oly_diag$Country <- oly_gdp2016$Country
p1 <- ggplot(oly_diag, aes(x=.fitted, y=Total_2016,
label=Country)) +
geom_point() + ylab("Observed Count") + xlab("Fitted") +
theme(aspect.ratio=1)
p2 <- ggplot(oly_diag, aes(x=.fitted, y=.resid, label=Country)) + geom_point() + ylab("Residuals") + xlab("Fitted") +
theme(aspect.ratio=1)
grid.arrange(p1, p2, ncol=2)
library(plotly)
ggplotly(p2)
ggplotly(p1)
